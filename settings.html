<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/x-icon" href="https://github.com/nlgg3r1234hfh/MathDevz/blob/main/main/image.png?raw=true">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <div class="settings-container">
        <h2>Customize Your Settings</h2>

        <label for="panicLinkInput">Panic Mode Link:</label>
        <input type="text" id="panicLinkInput" placeholder="Enter Panic Mode Link">

        <label for="panicShortcutInput">Panic Mode Shortcut:</label>
        <input type="text" id="panicShortcutInput" placeholder="Enter Shortcut (e.g., Ctrl+Alt+P)">

        <button class="nice-button" onclick="applySettings()">Apply Settings</button>
    </div>

    <script>
        // Function to apply and save settings
        function applySettings() {
            const panicLink = document.getElementById("panicLinkInput").value;
            const panicShortcut = document.getElementById("panicShortcutInput").value;

            // Save settings to localStorage
            localStorage.setItem("panicLink", panicLink);
            localStorage.setItem("panicShortcut", panicShortcut);

            alert("Settings applied successfully!");
        }

        // Function to load saved settings when the page loads
        document.addEventListener("DOMContentLoaded", function() {
            const savedPanicLink = localStorage.getItem("panicLink");
            const savedPanicShortcut = localStorage.getItem("panicShortcut");

            // Apply saved settings if available
            if (savedPanicLink) {
                document.getElementById("panicLinkInput").value = savedPanicLink;
            }

            if (savedPanicShortcut) {
                document.getElementById("panicShortcutInput").value = savedPanicShortcut;
            }
        });

        // Function to trigger panic mode on shortcut press
        document.addEventListener("keydown", function(event) {
            const savedPanicShortcut = localStorage.getItem("panicShortcut");

            if (savedPanicShortcut) {
                const keys = savedPanicShortcut.split("+");
                const modifiers = keys.slice(0, keys.length - 1).map(modifier => modifier.toLowerCase());
                const key = keys[keys.length - 1].toLowerCase();

                if (event.key.toLowerCase() === key && modifiers.every(modifier => event[`${modifier}Key`])) {
                    const savedPanicLink = localStorage.getItem("panicLink");

                    if (savedPanicLink) {
                        window.location.href = savedPanicLink;
                    }
                }
            }
        });

        // Previous code related to game list, search input, and context menu prevention
        const gameListElement = document.getElementById('gameList');
        const searchInput = document.getElementById('searchInput');

        // Function to update the list based on the search input
        function updateList() {
            const searchTerm = searchInput.value.toLowerCase();

            // Clear the existing list
            gameListElement.innerHTML = '';

            // Filter and display the games
            gameList.forEach(game => {
                if (game.toLowerCase().includes(searchTerm)) {
                    const listItem = document.createElement('li');
                    listItem.textContent = game;
                    listItem.addEventListener('click', () => {
                        const url = `/${game}`;
                        window.location.href = url;
                    });
                    gameListElement.appendChild(listItem);
                }
            });
        }

        // Display the entire game list initially
        updateList();

        // Event listener for input changes
        searchInput.addEventListener('input', updateList);

        // Prevent context menu
        document.addEventListener('contextmenu', function (e) {
            e.preventDefault();
        });

        // Prevent touchstart with more than 1 touch
        document.addEventListener('touchstart', function (e) {
            if (e.touches.length >= 2) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>
